<!DOCTYPE html>

<html>
<head>
  <title>grammar.coffee</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="browser.html">
                  browser.coffee
                </a>
              
                
                <a class="source" href="cake.html">
                  cake.coffee
                </a>
              
                
                <a class="source" href="coffeescript.html">
                  coffeescript.coffee
                </a>
              
                
                <a class="source" href="command.html">
                  command.coffee
                </a>
              
                
                <a class="source" href="grammar.html">
                  grammar.coffee
                </a>
              
                
                <a class="source" href="helpers.html">
                  helpers.coffee
                </a>
              
                
                <a class="source" href="index.html">
                  index.coffee
                </a>
              
                
                <a class="source" href="lexer.html">
                  lexer.coffee
                </a>
              
                
                <a class="source" href="nodes.html">
                  nodes.coffee
                </a>
              
                
                <a class="source" href="optparse.html">
                  optparse.coffee
                </a>
              
                
                <a class="source" href="register.html">
                  register.coffee
                </a>
              
                
                <a class="source" href="repl.html">
                  repl.coffee
                </a>
              
                
                <a class="source" href="rewriter.html">
                  rewriter.coffee
                </a>
              
                
                <a class="source" href="scope.html">
                  scope.litcoffee
                </a>
              
                
                <a class="source" href="sourcemap.html">
                  sourcemap.litcoffee
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>grammar.coffee</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-1">&#x00a7;</a>
              </div>
              <p>The CoffeeScript parser is generated by <a href="https://github.com/zaach/jison">Jison</a>
from this grammar file. Jison is a bottom-up parser generator, similar in
style to <a href="http://www.gnu.org/software/bison">Bison</a>, implemented in JavaScript.
It can recognize <a href="https://en.wikipedia.org/wiki/LR_grammar">LALR(1), LR(0), SLR(1), and LR(1)</a>
type grammars. To create the Jison parser, we list the pattern to match
on the left-hand side, and the action to take (usually the creation of syntax
tree nodes) on the right. As the parser runs, it
shifts tokens from our token stream, from left to right, and
<a href="https://en.wikipedia.org/wiki/Bottom-up_parsing">attempts to match</a>
the token sequence against the rules below. When a match can be made, it
reduces into the <a href="https://en.wikipedia.org/wiki/Terminal_and_nonterminal_symbols">nonterminal</a>
(the enclosing name at the top), and we proceed from there.</p>
<p>If you run the <code>cake build:parser</code> command, Jison constructs a parse table
from our rules and saves it into <code>lib/parser.js</code>.</p>

            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-2">&#x00a7;</a>
              </div>
              <p>The only dependency is on the <strong>Jison.Parser</strong>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>{Parser} = <span class="hljs-built_in">require</span> <span class="hljs-string">&#x27;jison&#x27;</span></pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-3">&#x00a7;</a>
              </div>
              <h2 id="jison-dsl">Jison DSL</h2>

            </div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-4">&#x00a7;</a>
              </div>
              
            </div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-5">&#x00a7;</a>
              </div>
              <p>Since we’re going to be wrapped in a function by Jison in any case, if our
action immediately returns a value, we can optimize by removing the function
wrapper and just returning the value directly.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>unwrap = <span class="hljs-regexp">/^function\s*\(\)\s*\{\s*return\s*([\s\S]*);\s*\}/</span></pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-6">&#x00a7;</a>
              </div>
              <p>Our handy DSL for Jison grammar generation, thanks to
<a href="https://github.com/creationix">Tim Caswell</a>. For every rule in the grammar,
we pass the pattern-defining string, the action to run, and extra options,
optionally. If no action is specified, we simply pass the value of the
previous nonterminal.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-title">o</span> = <span class="hljs-params">(patternString, action, options)</span> -&gt;</span>
  patternString = patternString.replace <span class="hljs-regexp">/\s{2,}/g</span>, <span class="hljs-string">&#x27; &#x27;</span>
  patternCount = patternString.split(<span class="hljs-string">&#x27; &#x27;</span>).length
  <span class="hljs-keyword">if</span> action</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-7">&#x00a7;</a>
              </div>
              <p>This code block does string replacements in the generated <code>parser.js</code>
file, replacing the calls to the <code>LOC</code> function and other strings as
listed below.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    action = <span class="hljs-keyword">if</span> match = unwrap.exec action <span class="hljs-keyword">then</span> match[<span class="hljs-number">1</span>] <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;(<span class="hljs-subst">#{action}</span>())&quot;</span></pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-8">&#x00a7;</a>
              </div>
              <p>All runtime functions we need are defined on <code>yy</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    action = action.replace <span class="hljs-regexp">/\bnew /g</span>, <span class="hljs-string">&#x27;$&amp;yy.&#x27;</span>
    action = action.replace <span class="hljs-regexp">/\b(?:Block\.wrap|extend)\b/g</span>, <span class="hljs-string">&#x27;yy.$&amp;&#x27;</span></pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-9">&#x00a7;</a>
              </div>
              <p>Returns strings of functions to add to <code>parser.js</code> which add extra data
that nodes may have, such as comments or location data. Location data
is added to the first parameter passed in, and the parameter is returned.
If the parameter is not a node, it will just be passed through unaffected.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function">    <span class="hljs-title">getAddDataToNodeFunctionString</span> = <span class="hljs-params">(first, last, forceUpdateLocation = <span class="hljs-literal">yes</span>)</span> -&gt;</span>
      <span class="hljs-string">&quot;yy.addDataToNode(yy, @<span class="hljs-subst">#{first}</span>, <span class="hljs-subst">#{<span class="hljs-keyword">if</span> first[<span class="hljs-number">0</span>] <span class="hljs-keyword">is</span> <span class="hljs-string">&#x27;$&#x27;</span> <span class="hljs-keyword">then</span> <span class="hljs-string">&#x27;$$&#x27;</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;$&#x27;</span>}</span><span class="hljs-subst">#{first}</span>, <span class="hljs-subst">#{<span class="hljs-keyword">if</span> last <span class="hljs-keyword">then</span> <span class="hljs-string">&quot;@<span class="hljs-subst">#{last}</span>, <span class="hljs-subst">#{<span class="hljs-keyword">if</span> last[<span class="hljs-number">0</span>] <span class="hljs-keyword">is</span> <span class="hljs-string">&#x27;$&#x27;</span> <span class="hljs-keyword">then</span> <span class="hljs-string">&#x27;$$&#x27;</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;$&#x27;</span>}</span><span class="hljs-subst">#{last}</span>&quot;</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;null, null&#x27;</span>}</span>, <span class="hljs-subst">#{<span class="hljs-keyword">if</span> forceUpdateLocation <span class="hljs-keyword">then</span> <span class="hljs-string">&#x27;true&#x27;</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;false&#x27;</span>}</span>)&quot;</span></pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-10">&#x00a7;</a>
              </div>
              <p>This code replaces the calls to <code>LOC</code> with the <code>yy.addDataToNode</code> string
defined above. The <code>LOC</code> function, when used below in the grammar rules,
is used to make sure that newly created node class objects get correct
location data assigned to them. By default, the grammar will assign the
location data spanned by <em>all</em> of the tokens on the left (e.g. a string
such as <code>&#39;Body TERMINATOR Line&#39;</code>) to the “top-level” node returned by
the grammar rule (the function on the right). But for “inner” node class
objects created by grammar rules, they won’t get correct location data
assigned to them without adding <code>LOC</code>.</p>

            </div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-11">&#x00a7;</a>
              </div>
              <p>For example, consider the grammar rule <code>&#39;NEW_TARGET . Property&#39;</code>, which
is handled by a function that returns
<code>new MetaProperty LOC(1)(new IdentifierLiteral $1), LOC(3)(new Access $3)</code>.
The <code>1</code> in <code>LOC(1)</code> refers to the first token (<code>NEW_TARGET</code>) and the <code>3</code>
in <code>LOC(3)</code> refers to the third token (<code>Property</code>). In order for the
<code>new IdentifierLiteral</code> to get assigned the location data corresponding
to <code>new</code> in the source code, we use
<code>LOC(1)(new IdentifierLiteral ...)</code> to mean “assign the location data of
the <em>first</em> token of this grammar rule (<code>NEW_TARGET</code>) to this
<code>new IdentifierLiteral</code>”. The <code>LOC(3)</code> means “assign the location data of
the <em>third</em> token of this grammar rule (<code>Property</code>) to this
<code>new Access</code>”.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    returnsLoc = <span class="hljs-regexp">/^LOC/</span>.test action
    action = action.replace <span class="hljs-regexp">/LOC\(([0-9]*)\)/g</span>, getAddDataToNodeFunctionString(<span class="hljs-string">&#x27;$1&#x27;</span>)</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-12">&#x00a7;</a>
              </div>
              <p>A call to <code>LOC</code> with two arguments, e.g. <code>LOC(2,4)</code>, sets the location
data for the generated node on both of the referenced tokens  (the second
and fourth in this example).</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    action = action.replace <span class="hljs-regexp">/LOC\(([0-9]*),\s*([0-9]*)\)/g</span>, getAddDataToNodeFunctionString(<span class="hljs-string">&#x27;$1&#x27;</span>, <span class="hljs-string">&#x27;$2&#x27;</span>)
    performActionFunctionString = <span class="hljs-string">&quot;$$ = <span class="hljs-subst">#{getAddDataToNodeFunctionString(<span class="hljs-number">1</span>, patternCount, <span class="hljs-keyword">not</span> returnsLoc)}</span>(<span class="hljs-subst">#{action}</span>);&quot;</span>
  <span class="hljs-keyword">else</span>
    performActionFunctionString = <span class="hljs-string">&#x27;$$ = $1;&#x27;</span>

  [patternString, performActionFunctionString, options]</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-13">&#x00a7;</a>
              </div>
              <h2 id="grammatical-rules">Grammatical Rules</h2>

            </div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-14">&#x00a7;</a>
              </div>
              
            </div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-15">&#x00a7;</a>
              </div>
              <p>In all of the rules that follow, you’ll see the name of the nonterminal as
the key to a list of alternative matches. With each match’s action, the
dollar-sign variables are provided by Jison as references to the value of
their numeric position, so in this rule:</p>
<pre><code><span class="hljs-string">&#x27;Expression UNLESS Expression&#x27;</span>
</code></pre>
<p><code>$1</code> would be the value of the first <code>Expression</code>, <code>$2</code> would be the token
for the <code>UNLESS</code> terminal, and <code>$3</code> would be the value of the second
<code>Expression</code>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>grammar =</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-16">&#x00a7;</a>
              </div>
              <p>The <strong>Root</strong> is the top-level node in the syntax tree. Since we parse bottom-up,
all parsing must end here.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Root: [
    o <span class="hljs-string">&#x27;&#x27;</span>,                                       <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Root <span class="hljs-keyword">new</span> Block
    o <span class="hljs-string">&#x27;Body&#x27;</span>,                                   <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Root $<span class="hljs-number">1</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-17">&#x00a7;</a>
              </div>
              <p>Any list of statements and expressions, separated by line breaks or semicolons.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Body: [
    o <span class="hljs-string">&#x27;Line&#x27;</span>,                                   <span class="hljs-function">-&gt;</span> Block.wrap [$<span class="hljs-number">1</span>]
    o <span class="hljs-string">&#x27;Body TERMINATOR Line&#x27;</span>,                   <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>push $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;Body TERMINATOR&#x27;</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-18">&#x00a7;</a>
              </div>
              <p>Block and statements, which make up a line in a body. FuncDirective is a
statement, but not included in Statement because that results in an ambiguous
grammar.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Line: [
    o <span class="hljs-string">&#x27;Expression&#x27;</span>
    o <span class="hljs-string">&#x27;ExpressionLine&#x27;</span>
    o <span class="hljs-string">&#x27;Statement&#x27;</span>
    o <span class="hljs-string">&#x27;FuncDirective&#x27;</span>
  ]

  FuncDirective: [
    o <span class="hljs-string">&#x27;YieldReturn&#x27;</span>
    o <span class="hljs-string">&#x27;AwaitReturn&#x27;</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-19">&#x00a7;</a>
              </div>
              <p>Pure statements which cannot be expressions.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Statement: [
    o <span class="hljs-string">&#x27;Return&#x27;</span>
    o <span class="hljs-string">&#x27;STATEMENT&#x27;</span>,                              <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> StatementLiteral $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;Import&#x27;</span>
    o <span class="hljs-string">&#x27;Export&#x27;</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-20">&#x00a7;</a>
              </div>
              <p>All the different types of expressions in our language. The basic unit of
CoffeeScript is the <strong>Expression</strong> – everything that can be an expression
is one. Blocks serve as the building blocks of many other rules, making
them somewhat circular.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Expression: [
    o <span class="hljs-string">&#x27;Value&#x27;</span>
    o <span class="hljs-string">&#x27;Code&#x27;</span>
    o <span class="hljs-string">&#x27;Operation&#x27;</span>
    o <span class="hljs-string">&#x27;Assign&#x27;</span>
    o <span class="hljs-string">&#x27;If&#x27;</span>
    o <span class="hljs-string">&#x27;Try&#x27;</span>
    o <span class="hljs-string">&#x27;While&#x27;</span>
    o <span class="hljs-string">&#x27;For&#x27;</span>
    o <span class="hljs-string">&#x27;Switch&#x27;</span>
    o <span class="hljs-string">&#x27;Class&#x27;</span>
    o <span class="hljs-string">&#x27;Throw&#x27;</span>
    o <span class="hljs-string">&#x27;Yield&#x27;</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-21">&#x00a7;</a>
              </div>
              <p>Expressions which are written in single line and would otherwise require being
wrapped in braces: E.g <code>a = b if do -&gt; f a is 1</code>, <code>if f (a) -&gt; a*2 then ...</code>,
<code>for x in do (obj) -&gt; f obj when x &gt; 8 then f x</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  ExpressionLine: [
    o <span class="hljs-string">&#x27;CodeLine&#x27;</span>
    o <span class="hljs-string">&#x27;IfLine&#x27;</span>
    o <span class="hljs-string">&#x27;OperationLine&#x27;</span>
  ]

  Yield: [
    o <span class="hljs-string">&#x27;YIELD&#x27;</span>,                                  <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">1</span>, <span class="hljs-keyword">new</span> Value <span class="hljs-keyword">new</span> Literal <span class="hljs-string">&#x27;&#x27;</span>
    o <span class="hljs-string">&#x27;YIELD Expression&#x27;</span>,                       <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">1</span>, $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;YIELD INDENT Object OUTDENT&#x27;</span>,            <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;YIELD FROM Expression&#x27;</span>,                  <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">1.</span>concat($<span class="hljs-number">2</span>), $<span class="hljs-number">3</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-22">&#x00a7;</a>
              </div>
              <p>An indented block of expressions. Note that the <a href="rewriter.html">Rewriter</a>
will convert some postfix forms into blocks for us, by adjusting the
token stream.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Block: [
    o <span class="hljs-string">&#x27;INDENT OUTDENT&#x27;</span>,                         <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Block
    o <span class="hljs-string">&#x27;INDENT Body OUTDENT&#x27;</span>,                    <span class="hljs-function">-&gt;</span> $<span class="hljs-number">2</span>
  ]

  Identifier: [
    o <span class="hljs-string">&#x27;IDENTIFIER&#x27;</span>,                             <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> IdentifierLiteral $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;JSX_TAG&#x27;</span>,                                <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> JSXTag $<span class="hljs-number">1.</span>toString(),
                                                     tagNameLocationData:                  $<span class="hljs-number">1.</span>tagNameToken[<span class="hljs-number">2</span>]
                                                     closingTagOpeningBracketLocationData: $<span class="hljs-number">1.</span>closingTagOpeningBracketToken?[<span class="hljs-number">2</span>]
                                                     closingTagSlashLocationData:          $<span class="hljs-number">1.</span>closingTagSlashToken?[<span class="hljs-number">2</span>]
                                                     closingTagNameLocationData:           $<span class="hljs-number">1.</span>closingTagNameToken?[<span class="hljs-number">2</span>]
                                                     closingTagClosingBracketLocationData: $<span class="hljs-number">1.</span>closingTagClosingBracketToken?[<span class="hljs-number">2</span>]
  ]

  Property: [
    o <span class="hljs-string">&#x27;PROPERTY&#x27;</span>,                               <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> PropertyName $<span class="hljs-number">1.</span>toString()
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-23">&#x00a7;</a>
              </div>
              <p>Alphanumerics are separated from the other <strong>Literal</strong> matchers because
they can also serve as keys in object literals.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  AlphaNumeric: [
    o <span class="hljs-string">&#x27;NUMBER&#x27;</span>,                                 <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> NumberLiteral $<span class="hljs-number">1.</span>toString(), parsedValue: $<span class="hljs-number">1.</span>parsedValue
    o <span class="hljs-string">&#x27;String&#x27;</span>
  ]

  String: [
    o <span class="hljs-string">&#x27;STRING&#x27;</span>, <span class="hljs-function">-&gt;</span>
      <span class="hljs-keyword">new</span> StringLiteral(
        $<span class="hljs-number">1.</span>slice <span class="hljs-number">1</span>, <span class="hljs-number">-1</span> <span class="hljs-comment"># strip artificial quotes and unwrap to primitive string</span>
        quote:        $<span class="hljs-number">1.</span>quote
        initialChunk: $<span class="hljs-number">1.</span>initialChunk
        finalChunk:   $<span class="hljs-number">1.</span>finalChunk
        indent:       $<span class="hljs-number">1.</span>indent
        double:       $<span class="hljs-number">1.</span>double
        heregex:      $<span class="hljs-number">1.</span>heregex
      )
    o <span class="hljs-string">&#x27;STRING_START Interpolations STRING_END&#x27;</span>, <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> StringWithInterpolations Block.wrap($<span class="hljs-number">2</span>), quote: $<span class="hljs-number">1.</span>quote, startQuote: LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> Literal $<span class="hljs-number">1.</span>toString())
  ]

  Interpolations: [
    o <span class="hljs-string">&#x27;InterpolationChunk&#x27;</span>,                     <span class="hljs-function">-&gt;</span> [$<span class="hljs-number">1</span>]
    o <span class="hljs-string">&#x27;Interpolations InterpolationChunk&#x27;</span>,      <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">2</span>
  ]

  InterpolationChunk: [
    o <span class="hljs-string">&#x27;INTERPOLATION_START Body INTERPOLATION_END&#x27;</span>,                <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Interpolation $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;INTERPOLATION_START INDENT Body OUTDENT INTERPOLATION_END&#x27;</span>, <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Interpolation $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;INTERPOLATION_START INTERPOLATION_END&#x27;</span>,                     <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Interpolation
    o <span class="hljs-string">&#x27;String&#x27;</span>,                                                    <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-24">&#x00a7;</a>
              </div>
              <p>The .toString() calls here and elsewhere are to convert <code>String</code> objects
back to primitive strings now that we’ve retrieved stowaway extra properties</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Regex: [
    o <span class="hljs-string">&#x27;REGEX&#x27;</span>,                                  <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> RegexLiteral $<span class="hljs-number">1.</span>toString(), delimiter: $<span class="hljs-number">1.</span>delimiter, heregexCommentTokens: $<span class="hljs-number">1.</span>heregexCommentTokens
    o <span class="hljs-string">&#x27;REGEX_START Invocation REGEX_END&#x27;</span>,       <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> RegexWithInterpolations $<span class="hljs-number">2</span>, heregexCommentTokens: $<span class="hljs-number">3.</span>heregexCommentTokens
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-25">&#x00a7;</a>
              </div>
              <p>All of our immediate values. Generally these can be passed straight
through and printed to JavaScript.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Literal: [
    o <span class="hljs-string">&#x27;AlphaNumeric&#x27;</span>
    o <span class="hljs-string">&#x27;JS&#x27;</span>,                                     <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> PassthroughLiteral $<span class="hljs-number">1.</span>toString(), here: $<span class="hljs-number">1.</span>here, generated: $<span class="hljs-number">1.</span>generated
    o <span class="hljs-string">&#x27;Regex&#x27;</span>
    o <span class="hljs-string">&#x27;UNDEFINED&#x27;</span>,                              <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> UndefinedLiteral $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;NULL&#x27;</span>,                                   <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> NullLiteral $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;BOOL&#x27;</span>,                                   <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> BooleanLiteral $<span class="hljs-number">1.</span>toString(), originalValue: $<span class="hljs-number">1.</span>original
    o <span class="hljs-string">&#x27;INFINITY&#x27;</span>,                               <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> InfinityLiteral $<span class="hljs-number">1.</span>toString(), originalValue: $<span class="hljs-number">1.</span>original
    o <span class="hljs-string">&#x27;NAN&#x27;</span>,                                    <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> NaNLiteral $<span class="hljs-number">1</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-26">&#x00a7;</a>
              </div>
              <p>Assignment of a variable, property, or index to a value.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Assign: [
    o <span class="hljs-string">&#x27;Assignable = Expression&#x27;</span>,                <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Assign $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;Assignable = TERMINATOR Expression&#x27;</span>,     <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Assign $<span class="hljs-number">1</span>, $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;Assignable = INDENT Expression OUTDENT&#x27;</span>, <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Assign $<span class="hljs-number">1</span>, $<span class="hljs-number">4</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-27">&#x00a7;</a>
              </div>
              <p>Assignment when it happens within an object literal. The difference from
the ordinary <strong>Assign</strong> is that these allow numbers and strings as keys.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  AssignObj: [
    o <span class="hljs-string">&#x27;ObjAssignable&#x27;</span>,                          <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Value $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;ObjRestValue&#x27;</span>
    o <span class="hljs-string">&#x27;ObjAssignable : Expression&#x27;</span>,             <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Assign LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> Value $<span class="hljs-number">1</span>), $<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;object&#x27;</span>,
                                                              operatorToken: LOC(<span class="hljs-number">2</span>)(<span class="hljs-keyword">new</span> Literal $<span class="hljs-number">2</span>)
    o <span class="hljs-string">&#x27;ObjAssignable :
       INDENT Expression OUTDENT&#x27;</span>,              <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Assign LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> Value $<span class="hljs-number">1</span>), $<span class="hljs-number">4</span>, <span class="hljs-string">&#x27;object&#x27;</span>,
                                                              operatorToken: LOC(<span class="hljs-number">2</span>)(<span class="hljs-keyword">new</span> Literal $<span class="hljs-number">2</span>)
    o <span class="hljs-string">&#x27;SimpleObjAssignable = Expression&#x27;</span>,       <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Assign LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> Value $<span class="hljs-number">1</span>), $<span class="hljs-number">3</span>, <span class="hljs-literal">null</span>,
                                                              operatorToken: LOC(<span class="hljs-number">2</span>)(<span class="hljs-keyword">new</span> Literal $<span class="hljs-number">2</span>)
    o <span class="hljs-string">&#x27;SimpleObjAssignable =
       INDENT Expression OUTDENT&#x27;</span>,              <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Assign LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> Value $<span class="hljs-number">1</span>), $<span class="hljs-number">4</span>, <span class="hljs-literal">null</span>,
                                                              operatorToken: LOC(<span class="hljs-number">2</span>)(<span class="hljs-keyword">new</span> Literal $<span class="hljs-number">2</span>)
  ]

  SimpleObjAssignable: [
    o <span class="hljs-string">&#x27;Identifier&#x27;</span>
    o <span class="hljs-string">&#x27;Property&#x27;</span>
    o <span class="hljs-string">&#x27;ThisProperty&#x27;</span>
  ]

  ObjAssignable: [
    o <span class="hljs-string">&#x27;SimpleObjAssignable&#x27;</span>
    o <span class="hljs-string">&#x27;[ Expression ]&#x27;</span>,          <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Value <span class="hljs-keyword">new</span> ComputedPropertyName $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;@ [ Expression ]&#x27;</span>,        <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Value LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> ThisLiteral $<span class="hljs-number">1</span>), [LOC(<span class="hljs-number">3</span>)(<span class="hljs-keyword">new</span> ComputedPropertyName($<span class="hljs-number">3</span>))], <span class="hljs-string">&#x27;this&#x27;</span>
    o <span class="hljs-string">&#x27;AlphaNumeric&#x27;</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-28">&#x00a7;</a>
              </div>
              <p>Object literal spread properties.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  ObjRestValue: [
    o <span class="hljs-string">&#x27;SimpleObjAssignable ...&#x27;</span>, <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Splat <span class="hljs-keyword">new</span> Value $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;... SimpleObjAssignable&#x27;</span>, <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Splat <span class="hljs-keyword">new</span> Value($<span class="hljs-number">2</span>), postfix: <span class="hljs-literal">no</span>
    o <span class="hljs-string">&#x27;ObjSpreadExpr ...&#x27;</span>,       <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Splat $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;... ObjSpreadExpr&#x27;</span>,       <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Splat $<span class="hljs-number">2</span>, postfix: <span class="hljs-literal">no</span>
  ]

  ObjSpreadExpr: [
    o <span class="hljs-string">&#x27;ObjSpreadIdentifier&#x27;</span>
    o <span class="hljs-string">&#x27;Object&#x27;</span>
    o <span class="hljs-string">&#x27;Parenthetical&#x27;</span>
    o <span class="hljs-string">&#x27;Super&#x27;</span>
    o <span class="hljs-string">&#x27;This&#x27;</span>
    o <span class="hljs-string">&#x27;SUPER OptFuncExist Arguments&#x27;</span>,               <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> SuperCall LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> Super), $<span class="hljs-number">3</span>, $<span class="hljs-number">2.</span>soak, $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;DYNAMIC_IMPORT Arguments&#x27;</span>,                   <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> DynamicImportCall LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> DynamicImport), $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;SimpleObjAssignable OptFuncExist Arguments&#x27;</span>, <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Call (<span class="hljs-keyword">new</span> Value $<span class="hljs-number">1</span>), $<span class="hljs-number">3</span>, $<span class="hljs-number">2.</span>soak
    o <span class="hljs-string">&#x27;ObjSpreadExpr OptFuncExist Arguments&#x27;</span>,       <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Call $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>, $<span class="hljs-number">2.</span>soak
  ]

  ObjSpreadIdentifier: [
    o <span class="hljs-string">&#x27;SimpleObjAssignable Accessor&#x27;</span>, <span class="hljs-function">-&gt;</span> (<span class="hljs-keyword">new</span> Value $<span class="hljs-number">1</span>).add $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;ObjSpreadExpr Accessor&#x27;</span>,       <span class="hljs-function">-&gt;</span> (<span class="hljs-keyword">new</span> Value $<span class="hljs-number">1</span>).add $<span class="hljs-number">2</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-29">&#x00a7;</a>
              </div>
              <p>A return statement from a function body.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Return: [
    o <span class="hljs-string">&#x27;RETURN Expression&#x27;</span>,                      <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Return $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;RETURN INDENT Object OUTDENT&#x27;</span>,           <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Return <span class="hljs-keyword">new</span> Value $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;RETURN&#x27;</span>,                                 <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Return
  ]

  YieldReturn: [
    o <span class="hljs-string">&#x27;YIELD RETURN Expression&#x27;</span>,                <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> YieldReturn $<span class="hljs-number">3</span>,   returnKeyword: LOC(<span class="hljs-number">2</span>)(<span class="hljs-keyword">new</span> Literal $<span class="hljs-number">2</span>)
    o <span class="hljs-string">&#x27;YIELD RETURN&#x27;</span>,                           <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> YieldReturn <span class="hljs-literal">null</span>, returnKeyword: LOC(<span class="hljs-number">2</span>)(<span class="hljs-keyword">new</span> Literal $<span class="hljs-number">2</span>)
  ]

  AwaitReturn: [
    o <span class="hljs-string">&#x27;AWAIT RETURN Expression&#x27;</span>,                <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> AwaitReturn $<span class="hljs-number">3</span>,   returnKeyword: LOC(<span class="hljs-number">2</span>)(<span class="hljs-keyword">new</span> Literal $<span class="hljs-number">2</span>)
    o <span class="hljs-string">&#x27;AWAIT RETURN&#x27;</span>,                           <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> AwaitReturn <span class="hljs-literal">null</span>, returnKeyword: LOC(<span class="hljs-number">2</span>)(<span class="hljs-keyword">new</span> Literal $<span class="hljs-number">2</span>)
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-30">&#x00a7;</a>
              </div>
              <p>The <strong>Code</strong> node is the function literal. It’s defined by an indented block
of <strong>Block</strong> preceded by a function arrow, with an optional parameter list.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Code: [
    o <span class="hljs-string">&#x27;PARAM_START ParamList PARAM_END FuncGlyph Block&#x27;</span>, <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Code $<span class="hljs-number">2</span>, $<span class="hljs-number">5</span>, $<span class="hljs-number">4</span>, LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> Literal $<span class="hljs-number">1</span>)
    o <span class="hljs-string">&#x27;FuncGlyph Block&#x27;</span>,                                 <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Code [], $<span class="hljs-number">2</span>, $<span class="hljs-number">1</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-31">&#x00a7;</a>
              </div>
              <p>The Codeline is the <strong>Code</strong> node with <strong>Line</strong> instead of indented <strong>Block</strong>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  CodeLine: [
    o <span class="hljs-string">&#x27;PARAM_START ParamList PARAM_END FuncGlyph Line&#x27;</span>, <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Code $<span class="hljs-number">2</span>, LOC(<span class="hljs-number">5</span>)(Block.wrap [$<span class="hljs-number">5</span>]), $<span class="hljs-number">4</span>,
                                                              LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> Literal $<span class="hljs-number">1</span>)
    o <span class="hljs-string">&#x27;FuncGlyph Line&#x27;</span>,                                 <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Code [], LOC(<span class="hljs-number">2</span>)(Block.wrap [$<span class="hljs-number">2</span>]), $<span class="hljs-number">1</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-32">&#x00a7;</a>
              </div>
              <p>CoffeeScript has two different symbols for functions. <code>-&gt;</code> is for ordinary
functions, and <code>=&gt;</code> is for functions bound to the current value of <em>this</em>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  FuncGlyph: [
    o <span class="hljs-string">&#x27;-&gt;&#x27;</span>,                                     <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> FuncGlyph $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;=&gt;&#x27;</span>,                                     <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> FuncGlyph $<span class="hljs-number">1</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-33">&#x00a7;</a>
              </div>
              <p>An optional, trailing comma.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  OptComma: [
    o <span class="hljs-string">&#x27;&#x27;</span>
    o <span class="hljs-string">&#x27;,&#x27;</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-34">&#x00a7;</a>
              </div>
              <p>The list of parameters that a function accepts can be of any length.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  ParamList: [
    o <span class="hljs-string">&#x27;&#x27;</span>,                                       <span class="hljs-function">-&gt;</span> []
    o <span class="hljs-string">&#x27;Param&#x27;</span>,                                  <span class="hljs-function">-&gt;</span> [$<span class="hljs-number">1</span>]
    o <span class="hljs-string">&#x27;ParamList , Param&#x27;</span>,                      <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;ParamList OptComma TERMINATOR Param&#x27;</span>,    <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;ParamList OptComma INDENT ParamList OptComma OUTDENT&#x27;</span>, <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">4</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-35">&#x00a7;</a>
              </div>
              <p>A single parameter in a function definition can be ordinary, or a splat
that hoovers up the remaining arguments.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Param: [
    o <span class="hljs-string">&#x27;ParamVar&#x27;</span>,                               <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Param $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;ParamVar ...&#x27;</span>,                           <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Param $<span class="hljs-number">1</span>, <span class="hljs-literal">null</span>, <span class="hljs-literal">on</span>
    o <span class="hljs-string">&#x27;... ParamVar&#x27;</span>,                           <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Param $<span class="hljs-number">2</span>, <span class="hljs-literal">null</span>, postfix: <span class="hljs-literal">no</span>
    o <span class="hljs-string">&#x27;ParamVar = Expression&#x27;</span>,                  <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Param $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;...&#x27;</span>,                                    <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Expansion
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-36">&#x00a7;</a>
              </div>
              <p>Function Parameters</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  ParamVar: [
    o <span class="hljs-string">&#x27;Identifier&#x27;</span>
    o <span class="hljs-string">&#x27;ThisProperty&#x27;</span>
    o <span class="hljs-string">&#x27;Array&#x27;</span>
    o <span class="hljs-string">&#x27;Object&#x27;</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-37">&#x00a7;</a>
              </div>
              <p>A splat that occurs outside of a parameter list.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Splat: [
    o <span class="hljs-string">&#x27;Expression ...&#x27;</span>,                         <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Splat $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;... Expression&#x27;</span>,                         <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Splat $<span class="hljs-number">2</span>, {postfix: <span class="hljs-literal">no</span>}
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-38">&#x00a7;</a>
              </div>
              <p>Variables and properties that can be assigned to.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  SimpleAssignable: [
    o <span class="hljs-string">&#x27;Identifier&#x27;</span>,                             <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Value $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;Value Accessor&#x27;</span>,                         <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>add $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;Code Accessor&#x27;</span>,                          <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Value($<span class="hljs-number">1</span>).add $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;ThisProperty&#x27;</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-39">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-39">&#x00a7;</a>
              </div>
              <p>Everything that can be assigned to.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Assignable: [
    o <span class="hljs-string">&#x27;SimpleAssignable&#x27;</span>
    o <span class="hljs-string">&#x27;Array&#x27;</span>,                                  <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Value $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;Object&#x27;</span>,                                 <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Value $<span class="hljs-number">1</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-40">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-40">&#x00a7;</a>
              </div>
              <p>The types of things that can be treated as values – assigned to, invoked
as functions, indexed into, named as a class, etc.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Value: [
    o <span class="hljs-string">&#x27;Assignable&#x27;</span>
    o <span class="hljs-string">&#x27;Literal&#x27;</span>,                                <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Value $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;Parenthetical&#x27;</span>,                          <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Value $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;Range&#x27;</span>,                                  <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Value $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;Invocation&#x27;</span>,                             <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Value $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;DoIife&#x27;</span>,                                 <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Value $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;This&#x27;</span>
    o <span class="hljs-string">&#x27;Super&#x27;</span>,                                  <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Value $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;MetaProperty&#x27;</span>,                           <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Value $<span class="hljs-number">1</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-41">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-41">&#x00a7;</a>
              </div>
              <p>A <code>super</code>-based expression that can be used as a value.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Super: [
    o <span class="hljs-string">&#x27;SUPER . Property&#x27;</span>,                                      <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Super LOC(<span class="hljs-number">3</span>)(<span class="hljs-keyword">new</span> Access $<span class="hljs-number">3</span>), LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> Literal $<span class="hljs-number">1</span>)
    o <span class="hljs-string">&#x27;SUPER INDEX_START Expression INDEX_END&#x27;</span>,                <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Super LOC(<span class="hljs-number">3</span>)(<span class="hljs-keyword">new</span> Index $<span class="hljs-number">3</span>),  LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> Literal $<span class="hljs-number">1</span>)
    o <span class="hljs-string">&#x27;SUPER INDEX_START INDENT Expression OUTDENT INDEX_END&#x27;</span>, <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Super LOC(<span class="hljs-number">4</span>)(<span class="hljs-keyword">new</span> Index $<span class="hljs-number">4</span>),  LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> Literal $<span class="hljs-number">1</span>)
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-42">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-42">&#x00a7;</a>
              </div>
              <p>A “meta-property” access e.g. <code>new.target</code> or <code>import.meta</code>, where
something that looks like a property is referenced on a keyword.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  MetaProperty: [
    o <span class="hljs-string">&#x27;NEW_TARGET . Property&#x27;</span>,                  <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> MetaProperty LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> IdentifierLiteral $<span class="hljs-number">1</span>), LOC(<span class="hljs-number">3</span>)(<span class="hljs-keyword">new</span> Access $<span class="hljs-number">3</span>)
    o <span class="hljs-string">&#x27;IMPORT_META . Property&#x27;</span>,                 <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> MetaProperty LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> IdentifierLiteral $<span class="hljs-number">1</span>), LOC(<span class="hljs-number">3</span>)(<span class="hljs-keyword">new</span> Access $<span class="hljs-number">3</span>)
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-43">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-43">&#x00a7;</a>
              </div>
              <p>The general group of accessors into an object, by property, by prototype
or by array index or slice.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Accessor: [
    o <span class="hljs-string">&#x27;.  Property&#x27;</span>,                            <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Access $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;?. Property&#x27;</span>,                            <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Access $<span class="hljs-number">2</span>, soak: <span class="hljs-literal">yes</span>
    o <span class="hljs-string">&#x27;:: Property&#x27;</span>,                            <span class="hljs-function">-&gt;</span> [LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> Access <span class="hljs-keyword">new</span> PropertyName(<span class="hljs-string">&#x27;prototype&#x27;</span>), shorthand: <span class="hljs-literal">yes</span>), LOC(<span class="hljs-number">2</span>)(<span class="hljs-keyword">new</span> Access $<span class="hljs-number">2</span>)]
    o <span class="hljs-string">&#x27;?:: Property&#x27;</span>,                           <span class="hljs-function">-&gt;</span> [LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> Access <span class="hljs-keyword">new</span> PropertyName(<span class="hljs-string">&#x27;prototype&#x27;</span>), shorthand: <span class="hljs-literal">yes</span>, soak: <span class="hljs-literal">yes</span>), LOC(<span class="hljs-number">2</span>)(<span class="hljs-keyword">new</span> Access $<span class="hljs-number">2</span>)]
    o <span class="hljs-string">&#x27;::&#x27;</span>,                                     <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Access <span class="hljs-keyword">new</span> PropertyName(<span class="hljs-string">&#x27;prototype&#x27;</span>), shorthand: <span class="hljs-literal">yes</span>
    o <span class="hljs-string">&#x27;?::&#x27;</span>,                                    <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Access <span class="hljs-keyword">new</span> PropertyName(<span class="hljs-string">&#x27;prototype&#x27;</span>), shorthand: <span class="hljs-literal">yes</span>, soak: <span class="hljs-literal">yes</span>
    o <span class="hljs-string">&#x27;Index&#x27;</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-44">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-44">&#x00a7;</a>
              </div>
              <p>Indexing into an object or array using bracket notation.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Index: [
    o <span class="hljs-string">&#x27;INDEX_START IndexValue INDEX_END&#x27;</span>,                <span class="hljs-function">-&gt;</span> $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;INDEX_START INDENT IndexValue OUTDENT INDEX_END&#x27;</span>, <span class="hljs-function">-&gt;</span> $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;INDEX_SOAK  Index&#x27;</span>,                               <span class="hljs-function">-&gt;</span> extend $<span class="hljs-number">2</span>, soak: <span class="hljs-literal">yes</span>
  ]

  IndexValue: [
    o <span class="hljs-string">&#x27;Expression&#x27;</span>,                             <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Index $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;Slice&#x27;</span>,                                  <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Slice $<span class="hljs-number">1</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-45">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-45">&#x00a7;</a>
              </div>
              <p>In CoffeeScript, an object literal is simply a list of assignments.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Object: [
    o <span class="hljs-string">&#x27;{ AssignList OptComma }&#x27;</span>,                <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Obj $<span class="hljs-number">2</span>, $<span class="hljs-number">1.</span>generated
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-46">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-46">&#x00a7;</a>
              </div>
              <p>Assignment of properties within an object literal can be separated by
comma, as in JavaScript, or simply by newline.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  AssignList: [
    o <span class="hljs-string">&#x27;&#x27;</span>,                                                       <span class="hljs-function">-&gt;</span> []
    o <span class="hljs-string">&#x27;AssignObj&#x27;</span>,                                              <span class="hljs-function">-&gt;</span> [$<span class="hljs-number">1</span>]
    o <span class="hljs-string">&#x27;AssignList , AssignObj&#x27;</span>,                                 <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;AssignList OptComma TERMINATOR AssignObj&#x27;</span>,               <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;AssignList OptComma INDENT AssignList OptComma OUTDENT&#x27;</span>, <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">4</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-47">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-47">&#x00a7;</a>
              </div>
              <p>Class definitions have optional bodies of prototype property assignments,
and optional references to the superclass.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Class: [
    o <span class="hljs-string">&#x27;CLASS&#x27;</span>,                                           <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Class
    o <span class="hljs-string">&#x27;CLASS Block&#x27;</span>,                                     <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Class <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;CLASS EXTENDS Expression&#x27;</span>,                        <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Class <span class="hljs-literal">null</span>, $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;CLASS EXTENDS Expression Block&#x27;</span>,                  <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Class <span class="hljs-literal">null</span>, $<span class="hljs-number">3</span>, $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;CLASS SimpleAssignable&#x27;</span>,                          <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Class $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;CLASS SimpleAssignable Block&#x27;</span>,                    <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Class $<span class="hljs-number">2</span>, <span class="hljs-literal">null</span>, $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;CLASS SimpleAssignable EXTENDS Expression&#x27;</span>,       <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Class $<span class="hljs-number">2</span>, $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;CLASS SimpleAssignable EXTENDS Expression Block&#x27;</span>, <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Class $<span class="hljs-number">2</span>, $<span class="hljs-number">4</span>, $<span class="hljs-number">5</span>
  ]

  Import: [
    o <span class="hljs-string">&#x27;IMPORT String&#x27;</span>,                                                                              <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ImportDeclaration <span class="hljs-literal">null</span>, $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;IMPORT String ASSERT Object&#x27;</span>,                                                                <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ImportDeclaration <span class="hljs-literal">null</span>, $<span class="hljs-number">2</span>, $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;IMPORT ImportDefaultSpecifier FROM String&#x27;</span>,                                                  <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ImportDeclaration <span class="hljs-keyword">new</span> ImportClause($<span class="hljs-number">2</span>, <span class="hljs-literal">null</span>), $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;IMPORT ImportDefaultSpecifier FROM String ASSERT Object&#x27;</span>,                                    <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ImportDeclaration <span class="hljs-keyword">new</span> ImportClause($<span class="hljs-number">2</span>, <span class="hljs-literal">null</span>), $<span class="hljs-number">4</span>, $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;IMPORT ImportNamespaceSpecifier FROM String&#x27;</span>,                                                <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ImportDeclaration <span class="hljs-keyword">new</span> ImportClause(<span class="hljs-literal">null</span>, $<span class="hljs-number">2</span>), $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;IMPORT ImportNamespaceSpecifier FROM String ASSERT Object&#x27;</span>,                                  <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ImportDeclaration <span class="hljs-keyword">new</span> ImportClause(<span class="hljs-literal">null</span>, $<span class="hljs-number">2</span>), $<span class="hljs-number">4</span>, $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;IMPORT { } FROM String&#x27;</span>,                                                                     <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ImportDeclaration <span class="hljs-keyword">new</span> ImportClause(<span class="hljs-literal">null</span>, <span class="hljs-keyword">new</span> ImportSpecifierList []), $<span class="hljs-number">5</span>
    o <span class="hljs-string">&#x27;IMPORT { } FROM String ASSERT Object&#x27;</span>,                                                       <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ImportDeclaration <span class="hljs-keyword">new</span> ImportClause(<span class="hljs-literal">null</span>, <span class="hljs-keyword">new</span> ImportSpecifierList []), $<span class="hljs-number">5</span>, $<span class="hljs-number">7</span>
    o <span class="hljs-string">&#x27;IMPORT { ImportSpecifierList OptComma } FROM String&#x27;</span>,                                        <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ImportDeclaration <span class="hljs-keyword">new</span> ImportClause(<span class="hljs-literal">null</span>, <span class="hljs-keyword">new</span> ImportSpecifierList $<span class="hljs-number">3</span>), $<span class="hljs-number">7</span>
    o <span class="hljs-string">&#x27;IMPORT { ImportSpecifierList OptComma } FROM String ASSERT Object&#x27;</span>,                          <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ImportDeclaration <span class="hljs-keyword">new</span> ImportClause(<span class="hljs-literal">null</span>, <span class="hljs-keyword">new</span> ImportSpecifierList $<span class="hljs-number">3</span>), $<span class="hljs-number">7</span>, $<span class="hljs-number">9</span>
    o <span class="hljs-string">&#x27;IMPORT ImportDefaultSpecifier , ImportNamespaceSpecifier FROM String&#x27;</span>,                       <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ImportDeclaration <span class="hljs-keyword">new</span> ImportClause($<span class="hljs-number">2</span>, $<span class="hljs-number">4</span>), $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;IMPORT ImportDefaultSpecifier , ImportNamespaceSpecifier FROM String ASSERT Object&#x27;</span>,         <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ImportDeclaration <span class="hljs-keyword">new</span> ImportClause($<span class="hljs-number">2</span>, $<span class="hljs-number">4</span>), $<span class="hljs-number">6</span>, $<span class="hljs-number">8</span>
    o <span class="hljs-string">&#x27;IMPORT ImportDefaultSpecifier , { ImportSpecifierList OptComma } FROM String&#x27;</span>,               <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ImportDeclaration <span class="hljs-keyword">new</span> ImportClause($<span class="hljs-number">2</span>, <span class="hljs-keyword">new</span> ImportSpecifierList $<span class="hljs-number">5</span>), $<span class="hljs-number">9</span>
    o <span class="hljs-string">&#x27;IMPORT ImportDefaultSpecifier , { ImportSpecifierList OptComma } FROM String ASSERT Object&#x27;</span>, <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ImportDeclaration <span class="hljs-keyword">new</span> ImportClause($<span class="hljs-number">2</span>, <span class="hljs-keyword">new</span> ImportSpecifierList $<span class="hljs-number">5</span>), $<span class="hljs-number">9</span>, $<span class="hljs-number">11</span>
  ]

  ImportSpecifierList: [
    o <span class="hljs-string">&#x27;ImportSpecifier&#x27;</span>,                                                          <span class="hljs-function">-&gt;</span> [$<span class="hljs-number">1</span>]
    o <span class="hljs-string">&#x27;ImportSpecifierList , ImportSpecifier&#x27;</span>,                                    <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;ImportSpecifierList OptComma TERMINATOR ImportSpecifier&#x27;</span>,                  <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;INDENT ImportSpecifierList OptComma OUTDENT&#x27;</span>,                              <span class="hljs-function">-&gt;</span> $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;ImportSpecifierList OptComma INDENT ImportSpecifierList OptComma OUTDENT&#x27;</span>, <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">4</span>
  ]

  ImportSpecifier: [
    o <span class="hljs-string">&#x27;Identifier&#x27;</span>,                             <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ImportSpecifier $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;Identifier AS Identifier&#x27;</span>,               <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ImportSpecifier $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;DEFAULT&#x27;</span>,                                <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ImportSpecifier LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> DefaultLiteral $<span class="hljs-number">1</span>)
    o <span class="hljs-string">&#x27;DEFAULT AS Identifier&#x27;</span>,                  <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ImportSpecifier LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> DefaultLiteral($<span class="hljs-number">1</span>)), $<span class="hljs-number">3</span>
  ]

  ImportDefaultSpecifier: [
    o <span class="hljs-string">&#x27;Identifier&#x27;</span>,                             <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ImportDefaultSpecifier $<span class="hljs-number">1</span>
  ]

  ImportNamespaceSpecifier: [
    o <span class="hljs-string">&#x27;IMPORT_ALL AS Identifier&#x27;</span>,               <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ImportNamespaceSpecifier <span class="hljs-keyword">new</span> Literal($<span class="hljs-number">1</span>), $<span class="hljs-number">3</span>
  ]

  Export: [
    o <span class="hljs-string">&#x27;EXPORT { }&#x27;</span>,                                                        <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ExportNamedDeclaration <span class="hljs-keyword">new</span> ExportSpecifierList []
    o <span class="hljs-string">&#x27;EXPORT { ExportSpecifierList OptComma }&#x27;</span>,                           <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ExportNamedDeclaration <span class="hljs-keyword">new</span> ExportSpecifierList $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;EXPORT Class&#x27;</span>,                                                      <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ExportNamedDeclaration $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;EXPORT Identifier = Expression&#x27;</span>,                                    <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ExportNamedDeclaration LOC(<span class="hljs-number">2</span>,<span class="hljs-number">4</span>)(<span class="hljs-keyword">new</span> Assign $<span class="hljs-number">2</span>, $<span class="hljs-number">4</span>, <span class="hljs-literal">null</span>,
                                                                                                      moduleDeclaration: <span class="hljs-string">&#x27;export&#x27;</span>)
    o <span class="hljs-string">&#x27;EXPORT Identifier = TERMINATOR Expression&#x27;</span>,                         <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ExportNamedDeclaration LOC(<span class="hljs-number">2</span>,<span class="hljs-number">5</span>)(<span class="hljs-keyword">new</span> Assign $<span class="hljs-number">2</span>, $<span class="hljs-number">5</span>, <span class="hljs-literal">null</span>,
                                                                                                      moduleDeclaration: <span class="hljs-string">&#x27;export&#x27;</span>)
    o <span class="hljs-string">&#x27;EXPORT Identifier = INDENT Expression OUTDENT&#x27;</span>,                     <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ExportNamedDeclaration LOC(<span class="hljs-number">2</span>,<span class="hljs-number">6</span>)(<span class="hljs-keyword">new</span> Assign $<span class="hljs-number">2</span>, $<span class="hljs-number">5</span>, <span class="hljs-literal">null</span>,
                                                                                                      moduleDeclaration: <span class="hljs-string">&#x27;export&#x27;</span>)
    o <span class="hljs-string">&#x27;EXPORT DEFAULT Expression&#x27;</span>,                                         <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ExportDefaultDeclaration $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;EXPORT DEFAULT INDENT Object OUTDENT&#x27;</span>,                              <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ExportDefaultDeclaration <span class="hljs-keyword">new</span> Value $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;EXPORT EXPORT_ALL FROM String&#x27;</span>,                                     <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ExportAllDeclaration <span class="hljs-keyword">new</span> Literal($<span class="hljs-number">2</span>), $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;EXPORT EXPORT_ALL FROM String ASSERT Object&#x27;</span>,                       <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ExportAllDeclaration <span class="hljs-keyword">new</span> Literal($<span class="hljs-number">2</span>), $<span class="hljs-number">4</span>, $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;EXPORT { } FROM String&#x27;</span>,                                            <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ExportNamedDeclaration <span class="hljs-keyword">new</span> ExportSpecifierList([]), $<span class="hljs-number">5</span>
    o <span class="hljs-string">&#x27;EXPORT { } FROM String ASSERT Object&#x27;</span>,                              <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ExportNamedDeclaration <span class="hljs-keyword">new</span> ExportSpecifierList([]), $<span class="hljs-number">5</span>, $<span class="hljs-number">7</span>
    o <span class="hljs-string">&#x27;EXPORT { ExportSpecifierList OptComma } FROM String&#x27;</span>,               <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ExportNamedDeclaration <span class="hljs-keyword">new</span> ExportSpecifierList($<span class="hljs-number">3</span>), $<span class="hljs-number">7</span>
    o <span class="hljs-string">&#x27;EXPORT { ExportSpecifierList OptComma } FROM String ASSERT Object&#x27;</span>, <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ExportNamedDeclaration <span class="hljs-keyword">new</span> ExportSpecifierList($<span class="hljs-number">3</span>), $<span class="hljs-number">7</span>, $<span class="hljs-number">9</span>
  ]

  ExportSpecifierList: [
    o <span class="hljs-string">&#x27;ExportSpecifier&#x27;</span>,                                                          <span class="hljs-function">-&gt;</span> [$<span class="hljs-number">1</span>]
    o <span class="hljs-string">&#x27;ExportSpecifierList , ExportSpecifier&#x27;</span>,                                    <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;ExportSpecifierList OptComma TERMINATOR ExportSpecifier&#x27;</span>,                  <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;INDENT ExportSpecifierList OptComma OUTDENT&#x27;</span>,                              <span class="hljs-function">-&gt;</span> $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;ExportSpecifierList OptComma INDENT ExportSpecifierList OptComma OUTDENT&#x27;</span>, <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">4</span>
  ]

  ExportSpecifier: [
    o <span class="hljs-string">&#x27;Identifier&#x27;</span>,                             <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ExportSpecifier $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;Identifier AS Identifier&#x27;</span>,               <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ExportSpecifier $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;Identifier AS DEFAULT&#x27;</span>,                  <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ExportSpecifier $<span class="hljs-number">1</span>, LOC(<span class="hljs-number">3</span>)(<span class="hljs-keyword">new</span> DefaultLiteral $<span class="hljs-number">3</span>)
    o <span class="hljs-string">&#x27;DEFAULT&#x27;</span>,                                <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ExportSpecifier LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> DefaultLiteral $<span class="hljs-number">1</span>)
    o <span class="hljs-string">&#x27;DEFAULT AS Identifier&#x27;</span>,                  <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> ExportSpecifier LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> DefaultLiteral($<span class="hljs-number">1</span>)), $<span class="hljs-number">3</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-48">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-48">&#x00a7;</a>
              </div>
              <p>Ordinary function invocation, or a chained series of calls.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Invocation: [
    o <span class="hljs-string">&#x27;Value OptFuncExist String&#x27;</span>,              <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> TaggedTemplateCall $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>, $<span class="hljs-number">2.</span>soak
    o <span class="hljs-string">&#x27;Value OptFuncExist Arguments&#x27;</span>,           <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Call $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>, $<span class="hljs-number">2.</span>soak
    o <span class="hljs-string">&#x27;SUPER OptFuncExist Arguments&#x27;</span>,           <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> SuperCall LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> Super), $<span class="hljs-number">3</span>, $<span class="hljs-number">2.</span>soak, $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;DYNAMIC_IMPORT Arguments&#x27;</span>,               <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> DynamicImportCall LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> DynamicImport), $<span class="hljs-number">2</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-49">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-49">&#x00a7;</a>
              </div>
              <p>An optional existence check on a function.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  OptFuncExist: [
    o <span class="hljs-string">&#x27;&#x27;</span>,                                       <span class="hljs-function">-&gt;</span> soak: <span class="hljs-literal">no</span>
    o <span class="hljs-string">&#x27;FUNC_EXIST&#x27;</span>,                             <span class="hljs-function">-&gt;</span> soak: <span class="hljs-literal">yes</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-50">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-50">&#x00a7;</a>
              </div>
              <p>The list of arguments to a function call.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Arguments: [
    o <span class="hljs-string">&#x27;CALL_START CALL_END&#x27;</span>,                    <span class="hljs-function">-&gt;</span> []
    o <span class="hljs-string">&#x27;CALL_START ArgList OptComma CALL_END&#x27;</span>,   <span class="hljs-function">-&gt;</span> $<span class="hljs-number">2.</span>implicit = $<span class="hljs-number">1.</span>generated; $<span class="hljs-number">2</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-51">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-51">&#x00a7;</a>
              </div>
              <p>A reference to the <em>this</em> current object.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  This: [
    o <span class="hljs-string">&#x27;THIS&#x27;</span>,                                   <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Value <span class="hljs-keyword">new</span> ThisLiteral $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;@&#x27;</span>,                                      <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Value <span class="hljs-keyword">new</span> ThisLiteral $<span class="hljs-number">1</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-52">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-52">&#x00a7;</a>
              </div>
              <p>A reference to a property on <em>this</em>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  ThisProperty: [
    o <span class="hljs-string">&#x27;@ Property&#x27;</span>,                             <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Value LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> ThisLiteral $<span class="hljs-number">1</span>), [LOC(<span class="hljs-number">2</span>)(<span class="hljs-keyword">new</span> Access($<span class="hljs-number">2</span>))], <span class="hljs-string">&#x27;this&#x27;</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-53">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-53">&#x00a7;</a>
              </div>
              <p>The array literal.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Array: [
    o <span class="hljs-string">&#x27;[ ]&#x27;</span>,                                    <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Arr []
    o <span class="hljs-string">&#x27;[ Elisions ]&#x27;</span>,                           <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Arr $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;[ ArgElisionList OptElisions ]&#x27;</span>,         <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Arr [].concat $<span class="hljs-number">2</span>, $<span class="hljs-number">3</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-54">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-54">&#x00a7;</a>
              </div>
              <p>Inclusive and exclusive range dots.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  RangeDots: [
    o <span class="hljs-string">&#x27;..&#x27;</span>,                                     <span class="hljs-function">-&gt;</span> exclusive: <span class="hljs-literal">no</span>
    o <span class="hljs-string">&#x27;...&#x27;</span>,                                    <span class="hljs-function">-&gt;</span> exclusive: <span class="hljs-literal">yes</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-55">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-55">&#x00a7;</a>
              </div>
              <p>The CoffeeScript range literal.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Range: [
    o <span class="hljs-string">&#x27;[ Expression RangeDots Expression ]&#x27;</span>,      <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Range $<span class="hljs-number">2</span>, $<span class="hljs-number">4</span>, <span class="hljs-keyword">if</span> $<span class="hljs-number">3.</span>exclusive <span class="hljs-keyword">then</span> <span class="hljs-string">&#x27;exclusive&#x27;</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;inclusive&#x27;</span>
    o <span class="hljs-string">&#x27;[ ExpressionLine RangeDots Expression ]&#x27;</span>,  <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Range $<span class="hljs-number">2</span>, $<span class="hljs-number">4</span>, <span class="hljs-keyword">if</span> $<span class="hljs-number">3.</span>exclusive <span class="hljs-keyword">then</span> <span class="hljs-string">&#x27;exclusive&#x27;</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;inclusive&#x27;</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-56">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-56">&#x00a7;</a>
              </div>
              <p>Array slice literals.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Slice: [
    o <span class="hljs-string">&#x27;Expression RangeDots Expression&#x27;</span>,        <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Range $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>, <span class="hljs-keyword">if</span> $<span class="hljs-number">2.</span>exclusive <span class="hljs-keyword">then</span> <span class="hljs-string">&#x27;exclusive&#x27;</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;inclusive&#x27;</span>
    o <span class="hljs-string">&#x27;Expression RangeDots&#x27;</span>,                   <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Range $<span class="hljs-number">1</span>, <span class="hljs-literal">null</span>, <span class="hljs-keyword">if</span> $<span class="hljs-number">2.</span>exclusive <span class="hljs-keyword">then</span> <span class="hljs-string">&#x27;exclusive&#x27;</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;inclusive&#x27;</span>
    o <span class="hljs-string">&#x27;ExpressionLine RangeDots Expression&#x27;</span>,    <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Range $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>, <span class="hljs-keyword">if</span> $<span class="hljs-number">2.</span>exclusive <span class="hljs-keyword">then</span> <span class="hljs-string">&#x27;exclusive&#x27;</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;inclusive&#x27;</span>
    o <span class="hljs-string">&#x27;ExpressionLine RangeDots&#x27;</span>,               <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Range $<span class="hljs-number">1</span>, <span class="hljs-literal">null</span>, <span class="hljs-keyword">if</span> $<span class="hljs-number">2.</span>exclusive <span class="hljs-keyword">then</span> <span class="hljs-string">&#x27;exclusive&#x27;</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;inclusive&#x27;</span>
    o <span class="hljs-string">&#x27;RangeDots Expression&#x27;</span>,                   <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Range <span class="hljs-literal">null</span>, $<span class="hljs-number">2</span>, <span class="hljs-keyword">if</span> $<span class="hljs-number">1.</span>exclusive <span class="hljs-keyword">then</span> <span class="hljs-string">&#x27;exclusive&#x27;</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;inclusive&#x27;</span>
    o <span class="hljs-string">&#x27;RangeDots&#x27;</span>,                              <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Range <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, <span class="hljs-keyword">if</span> $<span class="hljs-number">1.</span>exclusive <span class="hljs-keyword">then</span> <span class="hljs-string">&#x27;exclusive&#x27;</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;inclusive&#x27;</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-57">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-57">&#x00a7;</a>
              </div>
              <p>The <strong>ArgList</strong> is the list of objects passed into a function call
(i.e. comma-separated expressions). Newlines work as well.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  ArgList: [
    o <span class="hljs-string">&#x27;Arg&#x27;</span>,                                              <span class="hljs-function">-&gt;</span> [$<span class="hljs-number">1</span>]
    o <span class="hljs-string">&#x27;ArgList , Arg&#x27;</span>,                                    <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;ArgList OptComma TERMINATOR Arg&#x27;</span>,                  <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;INDENT ArgList OptComma OUTDENT&#x27;</span>,                  <span class="hljs-function">-&gt;</span> $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;ArgList OptComma INDENT ArgList OptComma OUTDENT&#x27;</span>, <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">4</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-58">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-58">&#x00a7;</a>
              </div>
              <p>Valid arguments are Blocks or Splats.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Arg: [
    o <span class="hljs-string">&#x27;Expression&#x27;</span>
    o <span class="hljs-string">&#x27;ExpressionLine&#x27;</span>
    o <span class="hljs-string">&#x27;Splat&#x27;</span>
    o <span class="hljs-string">&#x27;...&#x27;</span>,                                     <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Expansion
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-59">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-59">&#x00a7;</a>
              </div>
              <p>The <strong>ArgElisionList</strong> is the list of objects, contents of an array literal
(i.e. comma-separated expressions and elisions). Newlines work as well.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  ArgElisionList: [
    o <span class="hljs-string">&#x27;ArgElision&#x27;</span>
    o <span class="hljs-string">&#x27;ArgElisionList , ArgElision&#x27;</span>,                                          <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;ArgElisionList OptComma TERMINATOR ArgElision&#x27;</span>,                        <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;INDENT ArgElisionList OptElisions OUTDENT&#x27;</span>,                            <span class="hljs-function">-&gt;</span> $<span class="hljs-number">2.</span>concat $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;ArgElisionList OptElisions INDENT ArgElisionList OptElisions OUTDENT&#x27;</span>, <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">2</span>, $<span class="hljs-number">4</span>, $<span class="hljs-number">5</span>
  ]

  ArgElision: [
    o <span class="hljs-string">&#x27;Arg&#x27;</span>,                  <span class="hljs-function">-&gt;</span> [$<span class="hljs-number">1</span>]
    o <span class="hljs-string">&#x27;Elisions Arg&#x27;</span>,         <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">2</span>
  ]

  OptElisions: [
    o <span class="hljs-string">&#x27;OptComma&#x27;</span>,             <span class="hljs-function">-&gt;</span> []
    o <span class="hljs-string">&#x27;, Elisions&#x27;</span>,           <span class="hljs-function">-&gt;</span> [].concat $<span class="hljs-number">2</span>
  ]

  Elisions: [
    o <span class="hljs-string">&#x27;Elision&#x27;</span>,              <span class="hljs-function">-&gt;</span> [$<span class="hljs-number">1</span>]
    o <span class="hljs-string">&#x27;Elisions Elision&#x27;</span>,     <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">2</span>
  ]

  Elision: [
    o <span class="hljs-string">&#x27;,&#x27;</span>,                    <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Elision
    o <span class="hljs-string">&#x27;Elision TERMINATOR&#x27;</span>,   <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-60">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-60">&#x00a7;</a>
              </div>
              <p>Just simple, comma-separated, required arguments (no fancy syntax). We need
this to be separate from the <strong>ArgList</strong> for use in <strong>Switch</strong> blocks, where
having the newlines wouldn’t make sense.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  SimpleArgs: [
    o <span class="hljs-string">&#x27;Expression&#x27;</span>
    o <span class="hljs-string">&#x27;ExpressionLine&#x27;</span>
    o <span class="hljs-string">&#x27;SimpleArgs , Expression&#x27;</span>,                <span class="hljs-function">-&gt;</span> [].concat $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;SimpleArgs , ExpressionLine&#x27;</span>,            <span class="hljs-function">-&gt;</span> [].concat $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-61">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-61">&#x00a7;</a>
              </div>
              <p>The variants of <em>try/catch/finally</em> exception handling blocks.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Try: [
    o <span class="hljs-string">&#x27;TRY Block&#x27;</span>,                              <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Try $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;TRY Block Catch&#x27;</span>,                        <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Try $<span class="hljs-number">2</span>, $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;TRY Block FINALLY Block&#x27;</span>,                <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Try $<span class="hljs-number">2</span>, <span class="hljs-literal">null</span>, $<span class="hljs-number">4</span>, LOC(<span class="hljs-number">3</span>)(<span class="hljs-keyword">new</span> Literal $<span class="hljs-number">3</span>)
    o <span class="hljs-string">&#x27;TRY Block Catch FINALLY Block&#x27;</span>,          <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Try $<span class="hljs-number">2</span>, $<span class="hljs-number">3</span>, $<span class="hljs-number">5</span>, LOC(<span class="hljs-number">4</span>)(<span class="hljs-keyword">new</span> Literal $<span class="hljs-number">4</span>)
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-62">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-62">&#x00a7;</a>
              </div>
              <p>A catch clause names its error and runs a block of code.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Catch: [
    o <span class="hljs-string">&#x27;CATCH Identifier Block&#x27;</span>,                 <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Catch $<span class="hljs-number">3</span>, $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;CATCH Object Block&#x27;</span>,                     <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Catch $<span class="hljs-number">3</span>, LOC(<span class="hljs-number">2</span>)(<span class="hljs-keyword">new</span> Value($<span class="hljs-number">2</span>))
    o <span class="hljs-string">&#x27;CATCH Block&#x27;</span>,                            <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Catch $<span class="hljs-number">2</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-63">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-63">&#x00a7;</a>
              </div>
              <p>Throw an exception object.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Throw: [
    o <span class="hljs-string">&#x27;THROW Expression&#x27;</span>,                       <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Throw $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;THROW INDENT Object OUTDENT&#x27;</span>,            <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Throw <span class="hljs-keyword">new</span> Value $<span class="hljs-number">3</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-64">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-64">&#x00a7;</a>
              </div>
              <p>Parenthetical expressions. Note that the <strong>Parenthetical</strong> is a <strong>Value</strong>,
not an <strong>Expression</strong>, so if you need to use an expression in a place
where only values are accepted, wrapping it in parentheses will always do
the trick.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Parenthetical: [
    o <span class="hljs-string">&#x27;( Body )&#x27;</span>,                               <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Parens $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;( INDENT Body OUTDENT )&#x27;</span>,                <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Parens $<span class="hljs-number">3</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-65">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-65">&#x00a7;</a>
              </div>
              <p>The condition portion of a while loop.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  WhileLineSource: [
    o <span class="hljs-string">&#x27;WHILE ExpressionLine&#x27;</span>,                       <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> While $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;WHILE ExpressionLine WHEN ExpressionLine&#x27;</span>,   <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> While $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;UNTIL ExpressionLine&#x27;</span>,                       <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> While $<span class="hljs-number">2</span>, invert: <span class="hljs-literal">true</span>
    o <span class="hljs-string">&#x27;UNTIL ExpressionLine WHEN ExpressionLine&#x27;</span>,   <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> While $<span class="hljs-number">2</span>, invert: <span class="hljs-literal">true</span>, guard: $<span class="hljs-number">4</span>
  ]

  WhileSource: [
    o <span class="hljs-string">&#x27;WHILE Expression&#x27;</span>,                       <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> While $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;WHILE Expression WHEN Expression&#x27;</span>,       <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> While $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;WHILE ExpressionLine WHEN Expression&#x27;</span>,   <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> While $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;UNTIL Expression&#x27;</span>,                       <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> While $<span class="hljs-number">2</span>, invert: <span class="hljs-literal">true</span>
    o <span class="hljs-string">&#x27;UNTIL Expression WHEN Expression&#x27;</span>,       <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> While $<span class="hljs-number">2</span>, invert: <span class="hljs-literal">true</span>, guard: $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;UNTIL ExpressionLine WHEN Expression&#x27;</span>,   <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> While $<span class="hljs-number">2</span>, invert: <span class="hljs-literal">true</span>, guard: $<span class="hljs-number">4</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-66">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-66">&#x00a7;</a>
              </div>
              <p>The while loop can either be normal, with a block of expressions to execute,
or postfix, with a single expression. There is no do..while.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  While: [
    o <span class="hljs-string">&#x27;WhileSource Block&#x27;</span>,                      <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>addBody $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;WhileLineSource Block&#x27;</span>,                  <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>addBody $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;Statement  WhileSource&#x27;</span>,                 <span class="hljs-function">-&gt;</span> (<span class="hljs-built_in">Object</span>.assign $<span class="hljs-number">2</span>, postfix: <span class="hljs-literal">yes</span>).addBody LOC(<span class="hljs-number">1</span>) Block.wrap([$<span class="hljs-number">1</span>])
    o <span class="hljs-string">&#x27;Expression WhileSource&#x27;</span>,                 <span class="hljs-function">-&gt;</span> (<span class="hljs-built_in">Object</span>.assign $<span class="hljs-number">2</span>, postfix: <span class="hljs-literal">yes</span>).addBody LOC(<span class="hljs-number">1</span>) Block.wrap([$<span class="hljs-number">1</span>])
    o <span class="hljs-string">&#x27;Loop&#x27;</span>,                                   <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1</span>
  ]

  Loop: [
    o <span class="hljs-string">&#x27;LOOP Block&#x27;</span>,                             <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> While(LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> BooleanLiteral <span class="hljs-string">&#x27;true&#x27;</span>), isLoop: <span class="hljs-literal">yes</span>).addBody $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;LOOP Expression&#x27;</span>,                        <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> While(LOC(<span class="hljs-number">1</span>)(<span class="hljs-keyword">new</span> BooleanLiteral <span class="hljs-string">&#x27;true&#x27;</span>), isLoop: <span class="hljs-literal">yes</span>).addBody LOC(<span class="hljs-number">2</span>) Block.wrap [$<span class="hljs-number">2</span>]
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-67">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-67">&#x00a7;</a>
              </div>
              <p>Array, object, and range comprehensions, at the most generic level.
Comprehensions can either be normal, with a block of expressions to execute,
or postfix, with a single expression.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  For: [
    o <span class="hljs-string">&#x27;Statement    ForBody&#x27;</span>,  <span class="hljs-function">-&gt;</span> $<span class="hljs-number">2.</span>postfix = <span class="hljs-literal">yes</span>; $<span class="hljs-number">2.</span>addBody $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;Expression   ForBody&#x27;</span>,  <span class="hljs-function">-&gt;</span> $<span class="hljs-number">2.</span>postfix = <span class="hljs-literal">yes</span>; $<span class="hljs-number">2.</span>addBody $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;ForBody      Block&#x27;</span>,    <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>addBody $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;ForLineBody  Block&#x27;</span>,    <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>addBody $<span class="hljs-number">2</span>
  ]

  ForBody: [
    o <span class="hljs-string">&#x27;FOR Range&#x27;</span>,                <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> For [], source: (LOC(<span class="hljs-number">2</span>) <span class="hljs-keyword">new</span> Value($<span class="hljs-number">2</span>))
    o <span class="hljs-string">&#x27;FOR Range BY Expression&#x27;</span>,  <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> For [], source: (LOC(<span class="hljs-number">2</span>) <span class="hljs-keyword">new</span> Value($<span class="hljs-number">2</span>)), step: $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;ForStart ForSource&#x27;</span>,       <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>addSource $<span class="hljs-number">2</span>
  ]

  ForLineBody: [
    o <span class="hljs-string">&#x27;FOR Range BY ExpressionLine&#x27;</span>,  <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> For [], source: (LOC(<span class="hljs-number">2</span>) <span class="hljs-keyword">new</span> Value($<span class="hljs-number">2</span>)), step: $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;ForStart ForLineSource&#x27;</span>,       <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>addSource $<span class="hljs-number">2</span>
  ]

  ForStart: [
    o <span class="hljs-string">&#x27;FOR ForVariables&#x27;</span>,        <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> For [], name: $<span class="hljs-number">2</span>[<span class="hljs-number">0</span>], index: $<span class="hljs-number">2</span>[<span class="hljs-number">1</span>]
    o <span class="hljs-string">&#x27;FOR AWAIT ForVariables&#x27;</span>,  <span class="hljs-function">-&gt;</span>
        [name, index] = $<span class="hljs-number">3</span>
        <span class="hljs-keyword">new</span> For [], {name, index, await: <span class="hljs-literal">yes</span>, awaitTag: (LOC(<span class="hljs-number">2</span>) <span class="hljs-keyword">new</span> Literal($<span class="hljs-number">2</span>))}
    o <span class="hljs-string">&#x27;FOR OWN ForVariables&#x27;</span>,    <span class="hljs-function">-&gt;</span>
        [name, index] = $<span class="hljs-number">3</span>
        <span class="hljs-keyword">new</span> For [], {name, index, own: <span class="hljs-literal">yes</span>, ownTag: (LOC(<span class="hljs-number">2</span>) <span class="hljs-keyword">new</span> Literal($<span class="hljs-number">2</span>))}
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-68">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-68">&#x00a7;</a>
              </div>
              <p>An array of all accepted values for a variable inside the loop.
This enables support for pattern matching.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  ForValue: [
    o <span class="hljs-string">&#x27;Identifier&#x27;</span>
    o <span class="hljs-string">&#x27;ThisProperty&#x27;</span>
    o <span class="hljs-string">&#x27;Array&#x27;</span>,                                  <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Value $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;Object&#x27;</span>,                                 <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Value $<span class="hljs-number">1</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-69">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-69">&#x00a7;</a>
              </div>
              <p>An array or range comprehension has variables for the current element
and (optional) reference to the current index. Or, <em>key, value</em>, in the case
of object comprehensions.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  ForVariables: [
    o <span class="hljs-string">&#x27;ForValue&#x27;</span>,                               <span class="hljs-function">-&gt;</span> [$<span class="hljs-number">1</span>]
    o <span class="hljs-string">&#x27;ForValue , ForValue&#x27;</span>,                    <span class="hljs-function">-&gt;</span> [$<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>]
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-70">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-70">&#x00a7;</a>
              </div>
              <p>The source of a comprehension is an array or object with an optional guard
clause. If it’s an array comprehension, you can also choose to step through
in fixed-size increments.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  ForSource: [
    o <span class="hljs-string">&#x27;FORIN Expression&#x27;</span>,                                           <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;FOROF Expression&#x27;</span>,                                           <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, object: <span class="hljs-literal">yes</span>
    o <span class="hljs-string">&#x27;FORIN Expression WHEN Expression&#x27;</span>,                           <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;FORIN ExpressionLine WHEN Expression&#x27;</span>,                       <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;FOROF Expression WHEN Expression&#x27;</span>,                           <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>, object: <span class="hljs-literal">yes</span>
    o <span class="hljs-string">&#x27;FOROF ExpressionLine WHEN Expression&#x27;</span>,                       <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>, object: <span class="hljs-literal">yes</span>
    o <span class="hljs-string">&#x27;FORIN Expression BY Expression&#x27;</span>,                             <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, step:  $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;FORIN ExpressionLine BY Expression&#x27;</span>,                         <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, step:  $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;FORIN Expression WHEN Expression BY Expression&#x27;</span>,             <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>, step: $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;FORIN ExpressionLine WHEN Expression BY Expression&#x27;</span>,         <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>, step: $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;FORIN Expression WHEN ExpressionLine BY Expression&#x27;</span>,         <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>, step: $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;FORIN ExpressionLine WHEN ExpressionLine BY Expression&#x27;</span>,     <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>, step: $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;FORIN Expression BY Expression WHEN Expression&#x27;</span>,             <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, step:  $<span class="hljs-number">4</span>, guard: $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;FORIN ExpressionLine BY Expression WHEN Expression&#x27;</span>,         <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, step:  $<span class="hljs-number">4</span>, guard: $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;FORIN Expression BY ExpressionLine WHEN Expression&#x27;</span>,         <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, step:  $<span class="hljs-number">4</span>, guard: $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;FORIN ExpressionLine BY ExpressionLine WHEN Expression&#x27;</span>,     <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, step:  $<span class="hljs-number">4</span>, guard: $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;FORFROM Expression&#x27;</span>,                                         <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, from: <span class="hljs-literal">yes</span>
    o <span class="hljs-string">&#x27;FORFROM Expression WHEN Expression&#x27;</span>,                         <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>, from: <span class="hljs-literal">yes</span>
    o <span class="hljs-string">&#x27;FORFROM ExpressionLine WHEN Expression&#x27;</span>,                     <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>, from: <span class="hljs-literal">yes</span>
  ]

  ForLineSource: [
    o <span class="hljs-string">&#x27;FORIN ExpressionLine&#x27;</span>,                                       <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;FOROF ExpressionLine&#x27;</span>,                                       <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, object: <span class="hljs-literal">yes</span>
    o <span class="hljs-string">&#x27;FORIN Expression WHEN ExpressionLine&#x27;</span>,                       <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;FORIN ExpressionLine WHEN ExpressionLine&#x27;</span>,                   <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;FOROF Expression WHEN ExpressionLine&#x27;</span>,                       <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>, object: <span class="hljs-literal">yes</span>
    o <span class="hljs-string">&#x27;FOROF ExpressionLine WHEN ExpressionLine&#x27;</span>,                   <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>, object: <span class="hljs-literal">yes</span>
    o <span class="hljs-string">&#x27;FORIN Expression BY ExpressionLine&#x27;</span>,                         <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, step:  $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;FORIN ExpressionLine BY ExpressionLine&#x27;</span>,                     <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, step:  $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;FORIN Expression WHEN Expression BY ExpressionLine&#x27;</span>,         <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>, step: $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;FORIN ExpressionLine WHEN Expression BY ExpressionLine&#x27;</span>,     <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>, step: $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;FORIN Expression WHEN ExpressionLine BY ExpressionLine&#x27;</span>,     <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>, step: $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;FORIN ExpressionLine WHEN ExpressionLine BY ExpressionLine&#x27;</span>, <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>, step: $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;FORIN Expression BY Expression WHEN ExpressionLine&#x27;</span>,         <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, step:  $<span class="hljs-number">4</span>, guard: $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;FORIN ExpressionLine BY Expression WHEN ExpressionLine&#x27;</span>,     <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, step:  $<span class="hljs-number">4</span>, guard: $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;FORIN Expression BY ExpressionLine WHEN ExpressionLine&#x27;</span>,     <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, step:  $<span class="hljs-number">4</span>, guard: $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;FORIN ExpressionLine BY ExpressionLine WHEN ExpressionLine&#x27;</span>, <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, step:  $<span class="hljs-number">4</span>, guard: $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;FORFROM ExpressionLine&#x27;</span>,                                     <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, from: <span class="hljs-literal">yes</span>
    o <span class="hljs-string">&#x27;FORFROM Expression WHEN ExpressionLine&#x27;</span>,                     <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>, from: <span class="hljs-literal">yes</span>
    o <span class="hljs-string">&#x27;FORFROM ExpressionLine WHEN ExpressionLine&#x27;</span>,                 <span class="hljs-function">-&gt;</span> source: $<span class="hljs-number">2</span>, guard: $<span class="hljs-number">4</span>, from: <span class="hljs-literal">yes</span>
  ]

  Switch: [
    o <span class="hljs-string">&#x27;SWITCH Expression INDENT Whens OUTDENT&#x27;</span>,                <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Switch $<span class="hljs-number">2</span>, $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;SWITCH ExpressionLine INDENT Whens OUTDENT&#x27;</span>,            <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Switch $<span class="hljs-number">2</span>, $<span class="hljs-number">4</span>
    o <span class="hljs-string">&#x27;SWITCH Expression INDENT Whens ELSE Block OUTDENT&#x27;</span>,     <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Switch $<span class="hljs-number">2</span>, $<span class="hljs-number">4</span>, LOC(<span class="hljs-number">5</span>,<span class="hljs-number">6</span>) $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;SWITCH ExpressionLine INDENT Whens ELSE Block OUTDENT&#x27;</span>, <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Switch $<span class="hljs-number">2</span>, $<span class="hljs-number">4</span>, LOC(<span class="hljs-number">5</span>,<span class="hljs-number">6</span>) $<span class="hljs-number">6</span>
    o <span class="hljs-string">&#x27;SWITCH INDENT Whens OUTDENT&#x27;</span>,                           <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Switch <span class="hljs-literal">null</span>, $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;SWITCH INDENT Whens ELSE Block OUTDENT&#x27;</span>,                <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Switch <span class="hljs-literal">null</span>, $<span class="hljs-number">3</span>, LOC(<span class="hljs-number">4</span>,<span class="hljs-number">5</span>) $<span class="hljs-number">5</span>
  ]

  Whens: [
    o <span class="hljs-string">&#x27;When&#x27;</span>,                                   <span class="hljs-function">-&gt;</span> [$<span class="hljs-number">1</span>]
    o <span class="hljs-string">&#x27;Whens When&#x27;</span>,                             <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>concat $<span class="hljs-number">2</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-71">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-71">&#x00a7;</a>
              </div>
              <p>An individual <strong>When</strong> clause, with action.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  When: [
    o <span class="hljs-string">&#x27;LEADING_WHEN SimpleArgs Block&#x27;</span>,            <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> SwitchWhen $<span class="hljs-number">2</span>, $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;LEADING_WHEN SimpleArgs Block TERMINATOR&#x27;</span>, <span class="hljs-function">-&gt;</span> LOC(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>) <span class="hljs-keyword">new</span> SwitchWhen $<span class="hljs-number">2</span>, $<span class="hljs-number">3</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-72">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-72">&#x00a7;</a>
              </div>
              <p>The most basic form of <em>if</em> is a condition and an action. The following
if-related rules are broken up along these lines in order to avoid
ambiguity.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  IfBlock: [
    o <span class="hljs-string">&#x27;IF Expression Block&#x27;</span>,                    <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> If $<span class="hljs-number">2</span>, $<span class="hljs-number">3</span>, type: $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;IfBlock ELSE IF Expression Block&#x27;</span>,       <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>addElse LOC(<span class="hljs-number">3</span>,<span class="hljs-number">5</span>) <span class="hljs-keyword">new</span> If $<span class="hljs-number">4</span>, $<span class="hljs-number">5</span>, type: $<span class="hljs-number">3</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-73">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-73">&#x00a7;</a>
              </div>
              <p>The full complement of <em>if</em> expressions, including postfix one-liner
<em>if</em> and <em>unless</em>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  If: [
    o <span class="hljs-string">&#x27;IfBlock&#x27;</span>
    o <span class="hljs-string">&#x27;IfBlock ELSE Block&#x27;</span>,                     <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>addElse $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;Statement  POST_IF Expression&#x27;</span>,          <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> If $<span class="hljs-number">3</span>, LOC(<span class="hljs-number">1</span>)(Block.wrap [$<span class="hljs-number">1</span>]), type: $<span class="hljs-number">2</span>, postfix: <span class="hljs-literal">true</span>
    o <span class="hljs-string">&#x27;Expression POST_IF Expression&#x27;</span>,          <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> If $<span class="hljs-number">3</span>, LOC(<span class="hljs-number">1</span>)(Block.wrap [$<span class="hljs-number">1</span>]), type: $<span class="hljs-number">2</span>, postfix: <span class="hljs-literal">true</span>
  ]

  IfBlockLine: [
    o <span class="hljs-string">&#x27;IF ExpressionLine Block&#x27;</span>,                  <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> If $<span class="hljs-number">2</span>, $<span class="hljs-number">3</span>, type: $<span class="hljs-number">1</span>
    o <span class="hljs-string">&#x27;IfBlockLine ELSE IF ExpressionLine Block&#x27;</span>, <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>addElse LOC(<span class="hljs-number">3</span>,<span class="hljs-number">5</span>) <span class="hljs-keyword">new</span> If $<span class="hljs-number">4</span>, $<span class="hljs-number">5</span>, type: $<span class="hljs-number">3</span>
  ]

  IfLine: [
    o <span class="hljs-string">&#x27;IfBlockLine&#x27;</span>
    o <span class="hljs-string">&#x27;IfBlockLine ELSE Block&#x27;</span>,               <span class="hljs-function">-&gt;</span> $<span class="hljs-number">1.</span>addElse $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;Statement  POST_IF ExpressionLine&#x27;</span>,    <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> If $<span class="hljs-number">3</span>, LOC(<span class="hljs-number">1</span>)(Block.wrap [$<span class="hljs-number">1</span>]), type: $<span class="hljs-number">2</span>, postfix: <span class="hljs-literal">true</span>
    o <span class="hljs-string">&#x27;Expression POST_IF ExpressionLine&#x27;</span>,    <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> If $<span class="hljs-number">3</span>, LOC(<span class="hljs-number">1</span>)(Block.wrap [$<span class="hljs-number">1</span>]), type: $<span class="hljs-number">2</span>, postfix: <span class="hljs-literal">true</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-74">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-74">&#x00a7;</a>
              </div>
              <p>Arithmetic and logical operators, working on one or more operands.
Here they are grouped by order of precedence. The actual precedence rules
are defined at the bottom of the page. It would be shorter if we could
combine most of these rules into a single generic <em>Operand OpSymbol Operand</em>
-type rule, but in order to make the precedence binding possible, separate
rules are necessary.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  OperationLine: [
    o <span class="hljs-string">&#x27;UNARY ExpressionLine&#x27;</span>,                   <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">1</span>, $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;DO ExpressionLine&#x27;</span>,                      <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">1</span>, $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;DO_IIFE CodeLine&#x27;</span>,                       <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">1</span>, $<span class="hljs-number">2</span>
  ]

  Operation: [
    o <span class="hljs-string">&#x27;UNARY Expression&#x27;</span>,                       <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">1.</span>toString(), $<span class="hljs-number">2</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-literal">undefined</span>, originalOperator: $<span class="hljs-number">1.</span>original
    o <span class="hljs-string">&#x27;DO Expression&#x27;</span>,                          <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">1</span>, $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;UNARY_MATH Expression&#x27;</span>,                  <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">1</span>, $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;-     Expression&#x27;</span>,                      (<span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op <span class="hljs-string">&#x27;-&#x27;</span>, $<span class="hljs-number">2</span>), prec: <span class="hljs-string">&#x27;UNARY_MATH&#x27;</span>
    o <span class="hljs-string">&#x27;+     Expression&#x27;</span>,                      (<span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op <span class="hljs-string">&#x27;+&#x27;</span>, $<span class="hljs-number">2</span>), prec: <span class="hljs-string">&#x27;UNARY_MATH&#x27;</span>

    o <span class="hljs-string">&#x27;AWAIT Expression&#x27;</span>,                       <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">1</span>, $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;AWAIT INDENT Object OUTDENT&#x27;</span>,            <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>

    o <span class="hljs-string">&#x27;-- SimpleAssignable&#x27;</span>,                    <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op <span class="hljs-string">&#x27;--&#x27;</span>, $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;++ SimpleAssignable&#x27;</span>,                    <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op <span class="hljs-string">&#x27;++&#x27;</span>, $<span class="hljs-number">2</span>
    o <span class="hljs-string">&#x27;SimpleAssignable --&#x27;</span>,                    <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op <span class="hljs-string">&#x27;--&#x27;</span>, $<span class="hljs-number">1</span>, <span class="hljs-literal">null</span>, <span class="hljs-literal">true</span>
    o <span class="hljs-string">&#x27;SimpleAssignable ++&#x27;</span>,                    <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op <span class="hljs-string">&#x27;++&#x27;</span>, $<span class="hljs-number">1</span>, <span class="hljs-literal">null</span>, <span class="hljs-literal">true</span></pre></div></div>
            
        </li>
        
        
        <li id="section-75">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-75">&#x00a7;</a>
              </div>
              <p><a href="https://coffeescript.org/#existential-operator">The existential operator</a>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    o <span class="hljs-string">&#x27;Expression ?&#x27;</span>,                           <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Existence $<span class="hljs-number">1</span>

    o <span class="hljs-string">&#x27;Expression +  Expression&#x27;</span>,               <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op <span class="hljs-string">&#x27;+&#x27;</span> , $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;Expression -  Expression&#x27;</span>,               <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op <span class="hljs-string">&#x27;-&#x27;</span> , $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>

    o <span class="hljs-string">&#x27;Expression MATH     Expression&#x27;</span>,         <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">2</span>, $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;Expression **       Expression&#x27;</span>,         <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">2</span>, $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;Expression SHIFT    Expression&#x27;</span>,         <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">2</span>, $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;Expression COMPARE  Expression&#x27;</span>,         <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">2.</span>toString(), $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>, <span class="hljs-literal">undefined</span>, originalOperator: $<span class="hljs-number">2.</span>original
    o <span class="hljs-string">&#x27;Expression &amp;        Expression&#x27;</span>,         <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">2</span>, $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;Expression ^        Expression&#x27;</span>,         <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">2</span>, $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;Expression |        Expression&#x27;</span>,         <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">2</span>, $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;Expression &amp;&amp;       Expression&#x27;</span>,         <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">2.</span>toString(), $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>, <span class="hljs-literal">undefined</span>, originalOperator: $<span class="hljs-number">2.</span>original
    o <span class="hljs-string">&#x27;Expression ||       Expression&#x27;</span>,         <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">2.</span>toString(), $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>, <span class="hljs-literal">undefined</span>, originalOperator: $<span class="hljs-number">2.</span>original
    o <span class="hljs-string">&#x27;Expression BIN?     Expression&#x27;</span>,         <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">2</span>, $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>
    o <span class="hljs-string">&#x27;Expression RELATION Expression&#x27;</span>,         <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">2.</span>toString(), $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>, <span class="hljs-literal">undefined</span>, invertOperator: $<span class="hljs-number">2.</span>invert?.original ? $<span class="hljs-number">2.</span>invert

    o <span class="hljs-string">&#x27;SimpleAssignable COMPOUND_ASSIGN
       Expression&#x27;</span>,                             <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Assign $<span class="hljs-number">1</span>, $<span class="hljs-number">3</span>, $<span class="hljs-number">2.</span>toString(), originalContext: $<span class="hljs-number">2.</span>original
    o <span class="hljs-string">&#x27;SimpleAssignable COMPOUND_ASSIGN
       INDENT Expression OUTDENT&#x27;</span>,              <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Assign $<span class="hljs-number">1</span>, $<span class="hljs-number">4</span>, $<span class="hljs-number">2.</span>toString(), originalContext: $<span class="hljs-number">2.</span>original
    o <span class="hljs-string">&#x27;SimpleAssignable COMPOUND_ASSIGN TERMINATOR
       Expression&#x27;</span>,                             <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Assign $<span class="hljs-number">1</span>, $<span class="hljs-number">4</span>, $<span class="hljs-number">2.</span>toString(), originalContext: $<span class="hljs-number">2.</span>original
  ]

  DoIife: [
    o <span class="hljs-string">&#x27;DO_IIFE Code&#x27;</span>,                           <span class="hljs-function">-&gt;</span> <span class="hljs-keyword">new</span> Op $<span class="hljs-number">1</span> , $<span class="hljs-number">2</span>
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-76">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-76">&#x00a7;</a>
              </div>
              <h2 id="precedence">Precedence</h2>

            </div>
            
        </li>
        
        
        <li id="section-77">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-77">&#x00a7;</a>
              </div>
              
            </div>
            
        </li>
        
        
        <li id="section-78">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-78">&#x00a7;</a>
              </div>
              <p>Operators at the top of this list have higher precedence than the ones lower
down. Following these rules is what makes <code>2 + 3 * 4</code> parse as:</p>
<pre><code><span class="hljs-number">2</span> + (<span class="hljs-number">3</span> * <span class="hljs-number">4</span>)
</code></pre>
<p>And not:</p>
<pre><code>(<span class="hljs-number">2</span> + <span class="hljs-number">3</span>) * <span class="hljs-number">4</span>
</code></pre>

            </div>
            
            <div class="content"><div class='highlight'><pre>operators = [
  [<span class="hljs-string">&#x27;right&#x27;</span>,     <span class="hljs-string">&#x27;DO_IIFE&#x27;</span>]
  [<span class="hljs-string">&#x27;left&#x27;</span>,      <span class="hljs-string">&#x27;.&#x27;</span>, <span class="hljs-string">&#x27;?.&#x27;</span>, <span class="hljs-string">&#x27;::&#x27;</span>, <span class="hljs-string">&#x27;?::&#x27;</span>]
  [<span class="hljs-string">&#x27;left&#x27;</span>,      <span class="hljs-string">&#x27;CALL_START&#x27;</span>, <span class="hljs-string">&#x27;CALL_END&#x27;</span>]
  [<span class="hljs-string">&#x27;nonassoc&#x27;</span>,  <span class="hljs-string">&#x27;++&#x27;</span>, <span class="hljs-string">&#x27;--&#x27;</span>]
  [<span class="hljs-string">&#x27;left&#x27;</span>,      <span class="hljs-string">&#x27;?&#x27;</span>]
  [<span class="hljs-string">&#x27;right&#x27;</span>,     <span class="hljs-string">&#x27;UNARY&#x27;</span>, <span class="hljs-string">&#x27;DO&#x27;</span>]
  [<span class="hljs-string">&#x27;right&#x27;</span>,     <span class="hljs-string">&#x27;AWAIT&#x27;</span>]
  [<span class="hljs-string">&#x27;right&#x27;</span>,     <span class="hljs-string">&#x27;**&#x27;</span>]
  [<span class="hljs-string">&#x27;right&#x27;</span>,     <span class="hljs-string">&#x27;UNARY_MATH&#x27;</span>]
  [<span class="hljs-string">&#x27;left&#x27;</span>,      <span class="hljs-string">&#x27;MATH&#x27;</span>]
  [<span class="hljs-string">&#x27;left&#x27;</span>,      <span class="hljs-string">&#x27;+&#x27;</span>, <span class="hljs-string">&#x27;-&#x27;</span>]
  [<span class="hljs-string">&#x27;left&#x27;</span>,      <span class="hljs-string">&#x27;SHIFT&#x27;</span>]
  [<span class="hljs-string">&#x27;left&#x27;</span>,      <span class="hljs-string">&#x27;RELATION&#x27;</span>]
  [<span class="hljs-string">&#x27;left&#x27;</span>,      <span class="hljs-string">&#x27;COMPARE&#x27;</span>]
  [<span class="hljs-string">&#x27;left&#x27;</span>,      <span class="hljs-string">&#x27;&amp;&#x27;</span>]
  [<span class="hljs-string">&#x27;left&#x27;</span>,      <span class="hljs-string">&#x27;^&#x27;</span>]
  [<span class="hljs-string">&#x27;left&#x27;</span>,      <span class="hljs-string">&#x27;|&#x27;</span>]
  [<span class="hljs-string">&#x27;left&#x27;</span>,      <span class="hljs-string">&#x27;&amp;&amp;&#x27;</span>]
  [<span class="hljs-string">&#x27;left&#x27;</span>,      <span class="hljs-string">&#x27;||&#x27;</span>]
  [<span class="hljs-string">&#x27;left&#x27;</span>,      <span class="hljs-string">&#x27;BIN?&#x27;</span>]
  [<span class="hljs-string">&#x27;nonassoc&#x27;</span>,  <span class="hljs-string">&#x27;INDENT&#x27;</span>, <span class="hljs-string">&#x27;OUTDENT&#x27;</span>]
  [<span class="hljs-string">&#x27;right&#x27;</span>,     <span class="hljs-string">&#x27;YIELD&#x27;</span>]
  [<span class="hljs-string">&#x27;right&#x27;</span>,     <span class="hljs-string">&#x27;=&#x27;</span>, <span class="hljs-string">&#x27;:&#x27;</span>, <span class="hljs-string">&#x27;COMPOUND_ASSIGN&#x27;</span>, <span class="hljs-string">&#x27;RETURN&#x27;</span>, <span class="hljs-string">&#x27;THROW&#x27;</span>, <span class="hljs-string">&#x27;EXTENDS&#x27;</span>]
  [<span class="hljs-string">&#x27;right&#x27;</span>,     <span class="hljs-string">&#x27;FORIN&#x27;</span>, <span class="hljs-string">&#x27;FOROF&#x27;</span>, <span class="hljs-string">&#x27;FORFROM&#x27;</span>, <span class="hljs-string">&#x27;BY&#x27;</span>, <span class="hljs-string">&#x27;WHEN&#x27;</span>]
  [<span class="hljs-string">&#x27;right&#x27;</span>,     <span class="hljs-string">&#x27;IF&#x27;</span>, <span class="hljs-string">&#x27;ELSE&#x27;</span>, <span class="hljs-string">&#x27;FOR&#x27;</span>, <span class="hljs-string">&#x27;WHILE&#x27;</span>, <span class="hljs-string">&#x27;UNTIL&#x27;</span>, <span class="hljs-string">&#x27;LOOP&#x27;</span>, <span class="hljs-string">&#x27;SUPER&#x27;</span>, <span class="hljs-string">&#x27;CLASS&#x27;</span>, <span class="hljs-string">&#x27;IMPORT&#x27;</span>, <span class="hljs-string">&#x27;EXPORT&#x27;</span>, <span class="hljs-string">&#x27;DYNAMIC_IMPORT&#x27;</span>]
  [<span class="hljs-string">&#x27;left&#x27;</span>,      <span class="hljs-string">&#x27;POST_IF&#x27;</span>]
]</pre></div></div>
            
        </li>
        
        
        <li id="section-79">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-79">&#x00a7;</a>
              </div>
              <h2 id="wrapping-up">Wrapping Up</h2>

            </div>
            
        </li>
        
        
        <li id="section-80">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-80">&#x00a7;</a>
              </div>
              
            </div>
            
        </li>
        
        
        <li id="section-81">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-81">&#x00a7;</a>
              </div>
              <p>Finally, now that we have our <strong>grammar</strong> and our <strong>operators</strong>, we can create
our <strong>Jison.Parser</strong>. We do this by processing all of our rules, recording all
terminals (every symbol which does not appear as the name of a rule above)
as “tokens”.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>tokens = []
<span class="hljs-keyword">for</span> name, alternatives <span class="hljs-keyword">of</span> grammar
  grammar[name] = <span class="hljs-keyword">for</span> alt <span class="hljs-keyword">in</span> alternatives
    <span class="hljs-keyword">for</span> token <span class="hljs-keyword">in</span> alt[<span class="hljs-number">0</span>].split <span class="hljs-string">&#x27; &#x27;</span>
      tokens.push token <span class="hljs-keyword">unless</span> grammar[token]
    alt[<span class="hljs-number">1</span>] = <span class="hljs-string">&quot;return <span class="hljs-subst">#{alt[<span class="hljs-number">1</span>]}</span>&quot;</span> <span class="hljs-keyword">if</span> name <span class="hljs-keyword">is</span> <span class="hljs-string">&#x27;Root&#x27;</span>
    alt</pre></div></div>
            
        </li>
        
        
        <li id="section-82">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-82">&#x00a7;</a>
              </div>
              <p>Initialize the <strong>Parser</strong> with our list of terminal <strong>tokens</strong>, our <strong>grammar</strong>
rules, and the name of the root. Reverse the operators because Jison orders
precedence from low to high, and we have it high to low
(as in <a href="http://dinosaur.compilertools.net/yacc/index.html">Yacc</a>).</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-built_in">exports</span>.parser = <span class="hljs-keyword">new</span> Parser
  tokens      : tokens.join <span class="hljs-string">&#x27; &#x27;</span>
  bnf         : grammar
  operators   : operators.reverse()
  startSymbol : <span class="hljs-string">&#x27;Root&#x27;</span></pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
